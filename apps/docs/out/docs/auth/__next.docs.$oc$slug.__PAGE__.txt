1:"$Sreact.fragment"
2:I[2294,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"TOCProvider"]
3:I[8886,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"PageTOCPopover"]
4:I[8886,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"PageTOCPopoverTrigger"]
5:I[8886,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"PageTOCPopoverContent"]
6:I[2294,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"TOCScrollArea"]
7:I[2502,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"TOCItems"]
8:I[8886,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"PageBreadcrumb"]
9:I[27035,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"LLMCopyButton"]
a:I[27035,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"ViewOptions"]
b:I[86957,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"CodeBlock"]
29:I[86957,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"Pre"]
2a:I[8886,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"PageFooter"]
2b:I[67995,["/_next/static/chunks/461ac0dd2b19a9d1.js","/_next/static/chunks/157c013d9eec30d3.js","/_next/static/chunks/f89291ca14ea314d.js","/_next/static/chunks/275b20ac508e0438.js","/_next/static/chunks/b069d1dcb4c03f87.js","/_next/static/chunks/c16616a13b030946.js","/_next/static/chunks/30b2557ab2af6cd5.js","/_next/static/chunks/2dd08aeba753c660.js","/_next/static/chunks/ca810a4522509f9e.js","/_next/static/chunks/a733f53f1be9ba3a.js"],"I18nLabel"]
2c:I[35417,["/_next/static/chunks/26ca110782d86623.js","/_next/static/chunks/81f0f13d25d49d65.js"],"OutletBoundary"]
2d:"$Sreact.suspense"
0:{"buildId":"zBE4374JIGmN_0nNyP2Ju","rsc":["$","$1","c",{"children":[["$","$L2",null,{"toc":[{"depth":2,"url":"#how-it-works","title":"How It Works"},{"depth":3,"url":"#user-requests-a-login-link","title":"User requests a login link"},{"depth":3,"url":"#server-generates-a-magic-link-token","title":"Server generates a magic-link token"},{"depth":3,"url":"#user-clicks-the-link","title":"User clicks the link"},{"depth":3,"url":"#frontend-stores-the-session","title":"Frontend stores the session"},{"depth":2,"url":"#token-types","title":"Token Types"},{"depth":3,"url":"#magic-link-token","title":"Magic-Link Token"},{"depth":3,"url":"#session-token","title":"Session Token"},{"depth":2,"url":"#security-properties","title":"Security Properties"},{"depth":2,"url":"#user-provisioning","title":"User Provisioning"},{"depth":2,"url":"#jwt-secret-rotation","title":"JWT Secret Rotation"}],"children":[["$","$L3",null,{"children":[["$","$L4",null,{}],["$","$L5",null,{"children":["$undefined",["$","$L6",null,{"children":["$","$L7",null,{}]}],"$undefined"]}]]}],["$","article",null,{"id":"nd-page","data-full":false,"className":"flex flex-col w-full max-w-[900px] mx-auto [grid-area:main] px-4 py-6 gap-4 md:px-6 md:pt-8 xl:px-8 xl:pt-14 xl:layout:[--fd-toc-width:268px]","children":[["$","$L8",null,{}],[["$","h1",null,{"className":"text-[1.75em] font-semibold","children":"Authentication"}],["$","p",null,{"className":"text-lg text-fd-muted-foreground mb-0","children":"How magic-link authentication works in PolicyFlow"}],["$","div",null,{"className":"flex flex-row gap-2 items-center border-b pb-6","children":[["$","$L9",null,{"markdownUrl":"/llms.mdx/docs/auth/index.mdx"}],["$","$La",null,{"markdownUrl":"/llms.mdx/docs/auth/index.mdx","githubUrl":"https://github.com/yourorg/policyflow/blob/main/content/docs/auth.mdx"}]]}],["$","div",null,{"className":"prose flex-1","children":[["$","p",null,{"children":["PolicyFlow uses ",["$","strong",null,{"children":"magic-link authentication"}]," â€” no passwords required. This reduces the attack surface (no password database to breach) and eliminates password-reset flows."]}],"\n",["$","hr",null,{}],"\n",["$","h2",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"how-it-works","children":[["$","a",null,{"data-card":"","href":"#how-it-works","className":"peer","children":"How It Works"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-link size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-hidden":true,"children":[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}],"$undefined"]}]]}],"\n",["$","div",null,{"className":"fd-steps","children":[["$","div",null,{"className":"fd-step","children":[["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"user-requests-a-login-link","children":[["$","a",null,{"data-card":"","href":"#user-requests-a-login-link","className":"peer","children":"User requests a login link"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-link size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-hidden":true,"children":[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}],"$undefined"]}]]}],["$","p",null,{"children":"The user visits PolicyFlow and enters their work email. The frontend calls:"}],["$","$Lb",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"<svg viewBox=\"0 0 24 24\"><path d=\"M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z\" fill=\"currentColor\" /></svg>","children":"$Lc"}],"$Ld"]}],"$Le","$Lf","$L10"]}],"\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22","\n","$L23","\n","$L24"]}]],"$L25"]}],"$L26"]}],["$L27"],"$L28"]}],"loading":null,"isPartial":false}
c:["$","$L29",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"children":"POST /api/magic-link"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"{ \"email\": \"user@company.com\" }"}]}]]}]}]
d:["$","p",null,{"children":["The server looks up the email. If found, it builds a ",["$","strong",null,{"children":"magic-link JWT"}]," and sends it by email."]}]
e:["$","div",null,{"className":"fd-step","children":[["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"server-generates-a-magic-link-token","children":[["$","a",null,{"data-card":"","href":"#server-generates-a-magic-link-token","className":"peer","children":"Server generates a magic-link token"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-link size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-hidden":true,"children":[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}],"$undefined"]}]]}],["$","$Lb",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"<svg viewBox=\"0 0 24 24\"><path d=\"M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z\" fill=\"currentColor\" /></svg>","children":["$","$L29",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"  \"sub\":  \"user@company.com\","}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"  \"type\": \"magic\","}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"  \"iat\":  <now>,"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"  \"exp\":  <now + 24h>"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"}"}]}]]}]}]}],["$","p",null,{"children":["Signed with ",["$","code",null,{"children":"HS256"}]," using ",["$","code",null,{"children":"JWT_SECRET"}],". The server emails:"]}],["$","$Lb",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"<svg viewBox=\"0 0 24 24\"><path d=\"M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z\" fill=\"currentColor\" /></svg>","children":["$","$L29",null,{"children":["$","code",null,{"children":["$","span",null,{"className":"line","children":["$","span",null,{"children":"https://your-domain.com/api/magic-login?token=<jwt>"}]}]}]}]}]]}]
f:["$","div",null,{"className":"fd-step","children":[["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"user-clicks-the-link","children":[["$","a",null,{"data-card":"","href":"#user-clicks-the-link","className":"peer","children":"User clicks the link"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-link size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-hidden":true,"children":[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}],"$undefined"]}]]}],["$","p",null,{"children":["The browser hits ",["$","code",null,{"children":"GET /api/magic-login?token=<jwt>"}],". The server:"]}],["$","ol",null,{"children":["\n",["$","li",null,{"children":"Validates the JWT signature and expiry"}],"\n",["$","li",null,{"children":["Looks up the user by email (the ",["$","code",null,{"children":"sub"}]," claim)"]}],"\n",["$","li",null,{"children":["Builds a ",["$","strong",null,{"children":"session JWT"}]]}],"\n",["$","li",null,{"children":["Redirects to ",["$","code",null,{"children":"/auth-callback?token=<session-jwt>"}]]}],"\n"]}]]}]
10:["$","div",null,{"className":"fd-step","children":[["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"frontend-stores-the-session","children":[["$","a",null,{"data-card":"","href":"#frontend-stores-the-session","className":"peer","children":"Frontend stores the session"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-link size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-hidden":true,"children":[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}],"$undefined"]}]]}],["$","p",null,{"children":["The ",["$","code",null,{"children":"/auth-callback"}]," page reads the token from the URL, stores it in ",["$","code",null,{"children":"localStorage"}],", then redirects to ",["$","code",null,{"children":"/policies"}],"."]}],["$","p",null,{"children":["All subsequent API calls include ",["$","code",null,{"children":"Authorization: Bearer <session-jwt>"}],"."]}]]}]
11:["$","hr",null,{}]
12:["$","h2",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"token-types","children":[["$","a",null,{"data-card":"","href":"#token-types","className":"peer","children":"Token Types"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-link size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-hidden":true,"children":[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}],"$undefined"]}]]}]
13:["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"magic-link-token","children":[["$","a",null,{"data-card":"","href":"#magic-link-token","className":"peer","children":"Magic-Link Token"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-link size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-hidden":true,"children":[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}],"$undefined"]}]]}]
14:["$","div",null,{"className":"relative overflow-auto prose-no-margin my-6","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"Claim"}],["$","th",null,{"children":"Value"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"sub"}]}],["$","td",null,{"children":"User email"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"type"}]}],["$","td",null,{"children":["$","code",null,{"children":"\"magic\""}]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"exp"}]}],["$","td",null,{"children":"24 hours"}]]}]]}]]}]}]
15:["$","p",null,{"children":"One-time in spirit â€” the server validates but doesn't mark tokens as used (acceptable for MVP). For stricter security, store used token hashes in the database."}]
16:["$","h3",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"session-token","children":[["$","a",null,{"data-card":"","href":"#session-token","className":"peer","children":"Session Token"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-link size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-hidden":true,"children":[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}],"$undefined"]}]]}]
17:["$","div",null,{"className":"relative overflow-auto prose-no-margin my-6","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"Claim"}],["$","th",null,{"children":"Value"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"sub"}]}],["$","td",null,{"children":"User ID (UUID)"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"email"}]}],["$","td",null,{"children":"User email"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"role"}]}],["$","td",null,{"children":[["$","code",null,{"children":"\"Admin\""}]," or ",["$","code",null,{"children":"\"Staff\""}]]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"type"}]}],["$","td",null,{"children":["$","code",null,{"children":"\"session\""}]}]]}],["$","tr",null,{"children":[["$","td",null,{"children":["$","code",null,{"children":"exp"}]}],["$","td",null,{"children":"7 days"}]]}]]}]]}]}]
18:["$","hr",null,{}]
19:["$","h2",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"security-properties","children":[["$","a",null,{"data-card":"","href":"#security-properties","className":"peer","children":"Security Properties"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-link size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-hidden":true,"children":[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}],"$undefined"]}]]}]
1a:["$","div",null,{"className":"relative overflow-auto prose-no-margin my-6","children":["$","table",null,{"children":[["$","thead",null,{"children":["$","tr",null,{"children":[["$","th",null,{"children":"Property"}],["$","th",null,{"children":"Status"}]]}]}],["$","tbody",null,{"children":[["$","tr",null,{"children":[["$","td",null,{"children":"No password storage"}],["$","td",null,{"children":"âœ…"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Short-lived magic links (24h)"}],["$","td",null,{"children":"âœ…"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"HMAC-signed JWTs"}],["$","td",null,{"children":"âœ…"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Role-based access control"}],["$","td",null,{"children":"âœ…"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"One-time magic links (stored invalidation)"}],["$","td",null,{"children":"ðŸ”œ Roadmap"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"Refresh token rotation"}],["$","td",null,{"children":"ðŸ”œ Roadmap"}]]}],["$","tr",null,{"children":[["$","td",null,{"children":"MFA"}],["$","td",null,{"children":"ðŸ”œ Roadmap"}]]}]]}]]}]}]
1b:["$","hr",null,{}]
1c:["$","h2",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"user-provisioning","children":[["$","a",null,{"data-card":"","href":"#user-provisioning","className":"peer","children":"User Provisioning"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-link size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-hidden":true,"children":[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}],"$undefined"]}]]}]
1d:["$","div",null,{"className":"flex gap-2 my-4 rounded-xl border bg-fd-card p-3 ps-1 text-sm text-fd-card-foreground shadow-md","style":{"--callout-color":"var(--color-fd-info, var(--color-fd-muted))"},"children":[["$","div",null,{"role":"none","className":"w-0.5 bg-(--callout-color)/50 rounded-sm"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-info size-5 -me-0.5 fill-(--callout-color) text-fd-card","aria-hidden":"true","children":[["$","circle","1mglay",{"cx":"12","cy":"12","r":"10"}],["$","path","1dtifu",{"d":"M12 16v-4"}],["$","path","e9boi3",{"d":"M12 8h.01"}],"$undefined"]}],["$","div",null,{"className":"flex flex-col gap-2 min-w-0 flex-1","children":["$undefined",["$","div",null,{"className":"text-fd-muted-foreground prose-no-margin empty:hidden","children":["$","p",null,{"children":["PolicyFlow uses ",["$","strong",null,{"children":"admin-provisioned accounts"}]," â€” users cannot self-register. An admin creates the account; the user receives a welcome email."]}]}]]}]]}]
1e:["$","$Lb",null,{"className":"shiki shiki-themes github-light github-dark","style":{"--shiki-light":"#24292e","--shiki-dark":"#e1e4e8","--shiki-light-bg":"#fff","--shiki-dark-bg":"#24292e"},"tabIndex":"0","icon":"<svg viewBox=\"0 0 24 24\"><path d=\"M 6,1 C 4.354992,1 3,2.354992 3,4 v 16 c 0,1.645008 1.354992,3 3,3 h 12 c 1.645008,0 3,-1.354992 3,-3 V 8 7 A 1.0001,1.0001 0 0 0 20.707031,6.2929687 l -5,-5 A 1.0001,1.0001 0 0 0 15,1 h -1 z m 0,2 h 7 v 3 c 0,1.645008 1.354992,3 3,3 h 3 v 11 c 0,0.564129 -0.435871,1 -1,1 H 6 C 5.4358712,21 5,20.564129 5,20 V 4 C 5,3.4358712 5.4358712,3 6,3 Z M 15,3.4140625 18.585937,7 H 16 C 15.435871,7 15,6.5641288 15,6 Z\" fill=\"currentColor\" /></svg>","children":["$","$L29",null,{"children":["$","code",null,{"children":[["$","span",null,{"className":"line","children":["$","span",null,{"children":"POST /api/users (Admin only)"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"{"}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"  \"email\": \"jane@company.com\","}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"  \"name\": \"Jane Smith\","}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"  \"role\": \"Staff\""}]}],"\n",["$","span",null,{"className":"line","children":["$","span",null,{"children":"}"}]}]]}]}]}]
1f:["$","p",null,{"children":"After creation, the server immediately sends a welcome email with a magic link. No separate invitation step needed."}]
20:["$","hr",null,{}]
21:["$","h2",null,{"className":"flex scroll-m-28 flex-row items-center gap-2","id":"jwt-secret-rotation","children":[["$","a",null,{"data-card":"","href":"#jwt-secret-rotation","className":"peer","children":"JWT Secret Rotation"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-link size-3.5 shrink-0 text-fd-muted-foreground opacity-0 transition-opacity peer-hover:opacity-100","aria-hidden":true,"children":[["$","path","1cjeqo",{"d":"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}],["$","path","19qd67",{"d":"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}],"$undefined"]}]]}]
22:["$","p",null,{"children":["To rotate the ",["$","code",null,{"children":"JWT_SECRET"}],":"]}]
23:["$","ol",null,{"children":["\n",["$","li",null,{"children":["Generate a new secret: ",["$","code",null,{"children":"openssl rand -base64 32"}]]}],"\n",["$","li",null,{"children":"Update the environment variable and restart the server"}],"\n",["$","li",null,{"children":"All existing sessions are immediately invalidated â€” all users will need to log in again via magic link"}],"\n"]}]
24:["$","p",null,{"children":"For zero-downtime rotation, support for multiple secrets (current + previous) is on the roadmap."}]
25:["$","$L2a",null,{}]
26:["$","div",null,{"id":"nd-toc","className":"sticky top-(--fd-docs-row-1) h-[calc(var(--fd-docs-height)-var(--fd-docs-row-1))] flex flex-col [grid-area:toc] w-(--fd-toc-width) pt-12 pe-4 pb-2 max-xl:hidden","children":["$undefined",["$","h3",null,{"id":"toc-title","className":"inline-flex items-center gap-1.5 text-sm text-fd-muted-foreground","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-text-align-start size-4","aria-hidden":"true","children":[["$","path","1fi0y6",{"d":"M21 5H3"}],["$","path","6jk70r",{"d":"M15 12H3"}],["$","path","z6ezky",{"d":"M17 19H3"}],"$undefined"]}],["$","$L2b",null,{"label":"toc"}]]}],["$","$L6",null,{"children":["$","$L7",null,{}]}],"$undefined"]}]
27:["$","script","script-0",{"src":"/_next/static/chunks/a733f53f1be9ba3a.js","async":true}]
28:["$","$L2c",null,{"children":["$","$2d",null,{"name":"Next.MetadataOutlet","children":"$@2e"}]}]
2e:null
